{"mappings":"YAAA,IAAMA,EAAKC,SAASC,cAAc,MAC5BC,EAAS,mCACTC,EAAW,4DAAmEC,OAAPF,GACvEG,EAAY,yDAAgED,OAAPF,GACrEI,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAe,4CAInBC,MAAMN,EAAWC,GACdM,MAAK,SAAAC,G,OAAOA,EAAIC,M,IAChBF,MAAK,SAAAG,GACJ,IAAMC,EAAY,GAClBD,EAAUE,OAAOC,SAAQ,SAAAC,GACvBH,EAAUG,EAAMC,IAAMD,EAAME,I,IAG9BV,MAAMR,EAAUG,GACbM,MAAK,SAAAC,G,OAAOA,EAAIC,M,IAChBF,MAAK,SAAAU,GACJA,EAAKC,QAAQL,SAAQ,SAAAM,GACnB,IAAMC,EAAYzB,SAAS0B,cAAc,MACzCD,EAAUE,UAAUC,IAAI,YAExB,IAAMC,EAAa7B,SAAS0B,cAAc,OAC1CG,EAAWF,UAAUC,IAAI,YACzBC,EAAWC,IAAM,oBACjBD,EAAWE,IAAM,kCAAmD3B,OAAjBoB,EAAKQ,aACxDP,EAAUQ,YAAYJ,GAEtB,IAAMK,EAAoBlC,SAAS0B,cAAc,OACjDQ,EAAkBP,UAAUC,IAAI,uBAEhC,IAAMO,EAAWnC,SAAS0B,cAAc,MACxCS,EAASR,UAAUC,IAAI,aAEvBO,EAASC,YAAcZ,EAAKa,MAC5BH,EAAkBD,YAAYE,GAE9B,IAAMG,EAAatC,SAAS0B,cAAc,KAC1CY,EAAWX,UAAUC,IAAI,eAGzB,IAAMW,EAAcf,EAAKgB,UAAUC,KAAI,SAAAC,G,OAAW1B,EAAU0B,E,IACxDC,EAAiBJ,EAAYK,OAAS,EAAI,GAAsCxC,OAAnCmC,EAAYM,MAAM,EAAG,GAAGC,KAAK,MAAM,WAAWP,EAAYO,KAAK,MAC1GC,EAAc,IAAIC,KAAKxB,EAAKyB,cAAcC,cAC1CC,EAAS3B,EAAK4B,aAAaC,QAAQ,GAEzCf,EAAWgB,UAAY,GAAuBlD,OAApBuC,EAAe,OAA8CvC,OAAzC2C,EAAY,+BAAoC3C,OAAP+C,EAAO,QAE9FjB,EAAkBD,YAAYK,GAE9Bb,EAAUQ,YAAYC,GAEtBnC,EAAGwD,OAAO9B,E,OAGb+B,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,OAE7BD,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/js/main.js"],"sourcesContent":["const ul = document.querySelector('ul');\nconst apiKey = '48ef3a20ec8d887e9b9ced5296a0c50a';\nconst urlFetch = `https://api.themoviedb.org/3/trending/movie/week?api_key=${apiKey}`;\nconst genresUrl = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}`;\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer 48ef3a20ec8d887e9b9ced5296a0c50a',\n  },\n};\n\nfetch(genresUrl, options)\n  .then(res => res.json())\n  .then(genreData => {\n    const genresMap = {};\n    genreData.genres.forEach(genre => {\n      genresMap[genre.id] = genre.name;\n    });\n\n    fetch(urlFetch, options)\n      .then(res => res.json())\n      .then(data => {\n        data.results.forEach(film => {\n          const liElement = document.createElement('li');\n          liElement.classList.add('film-box');\n\n          const imgElement = document.createElement('img');\n          imgElement.classList.add('film-img');\n          imgElement.alt = 'Movie cover photo';\n          imgElement.src = `https://image.tmdb.org/t/p/w500${film.poster_path}`;\n          liElement.appendChild(imgElement);\n\n          const filmInfoContainer = document.createElement('div');\n          filmInfoContainer.classList.add('film-info-container');\n\n          const filmName = document.createElement('h2');\n          filmName.classList.add('film-name');\n\n          filmName.textContent = film.title;\n          filmInfoContainer.appendChild(filmName);\n\n          const filmRating = document.createElement('p');\n          filmRating.classList.add('film-rating');\n\n\n          const genresNames = film.genre_ids.map(genreId => genresMap[genreId]);\n          let formatedGenres = genresNames.length > 2 ? `${genresNames.slice(0, 2).join(', ')}, Other` : genresNames.join(', ');\n          const releaseYear = new Date(film.release_date).getFullYear();\n          const rating = film.vote_average.toFixed(1);\n\n          filmRating.innerHTML = `${formatedGenres} | ${releaseYear} <p class=\"rating-display\">${rating}</p>`;\n\n          filmInfoContainer.appendChild(filmRating);\n\n          liElement.appendChild(filmInfoContainer);\n\n          ul.append(liElement);\n        });\n      })\n      .catch(err => console.log(err));\n  })\n  .catch(err => console.log(err));\n"],"names":["$089c40fcbb903d20$var$ul","document","querySelector","$089c40fcbb903d20$var$apiKey","$089c40fcbb903d20$var$urlFetch","concat","$089c40fcbb903d20$var$genresUrl","$089c40fcbb903d20$var$options","method","headers","accept","Authorization","fetch","then","res","json","genreData","genresMap","genres","forEach","genre","id","name","data","results","film","liElement","createElement","classList","add","imgElement","alt","src","poster_path","appendChild","filmInfoContainer","filmName","textContent","title","filmRating","genresNames","genre_ids","map","genreId","formatedGenres","length","slice","join","releaseYear","Date","release_date","getFullYear","rating","vote_average","toFixed","innerHTML","append","catch","err","console","log"],"version":3,"file":"index.1bbe49c6.js.map"}