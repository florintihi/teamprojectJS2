const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer 48ef3a20ec8d887e9b9ced5296a0c50a"}};async function t(){try{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=48ef3a20ec8d887e9b9ced5296a0c50a",e),a=await t.json(),n={};a.genres.forEach((e=>{n[e.id]=e.name}));const o=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=48ef3a20ec8d887e9b9ced5296a0c50a",e),c=await o.json();return c.results.sort(((e,t)=>t.vote_average-e.vote_average)),{data:c,genresMap:n}}catch(e){throw console.error("Error fetching data:",e),e}}!async function(){try{const{data:e,genresMap:a}=await t(),n=document.querySelector(".cards-wrapper");e.results.forEach((e=>{const t=document.createElement("li");t.classList.add("film-box");const o=document.createElement("img");o.classList.add("film-img"),o.alt="Movie cover photo",o.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,t.appendChild(o);const c=document.createElement("div");c.classList.add("film-info-container");const r=document.createElement("h2");r.classList.add("film-name"),r.textContent=e.title,c.appendChild(r);const s=document.createElement("p");s.classList.add("film-rating");const i=e.genre_ids.map((e=>a[e]));let d=i.length>2?`${i.slice(0,2).join(", ")}, Other`:i.join(", ");const l=new Date(e.release_date).getFullYear(),p=e.vote_average.toFixed(1);s.innerHTML=`${d} | ${l} <p class="rating-display">${p}</p>`,c.appendChild(s),t.appendChild(c),n.append(t)}))}catch(e){console.error("Error:",e)}}(),async function(){try{const{data:e}=await t(),a=document.querySelector(".modal");e.results.forEach((e=>{const t=document.createElement("p");t.textContent=e.title,a.appendChild(t)})),console.log({data:e})}catch(e){console.error("Error fetching modal data:",e)}}();
//# sourceMappingURL=index.e2fc3d77.js.map
